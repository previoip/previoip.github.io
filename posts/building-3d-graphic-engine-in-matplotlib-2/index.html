<!doctype html><html lang=en><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-8HTK24ZVY8"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-8HTK24ZVY8",{anonymize_ip:!1})}</script><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=description content><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel=stylesheet><link rel=stylesheet type=text/css href="/css/styles.css?v=0.1.3"><link rel=stylesheet href="/css/highlight.css?v=1.0.1"><link rel=icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><script src="/js/main.js?v=0.1.1" defer></script><title>How I Built A Simple (Horrible) 3D Graphics Engine in python matplotlib - Part 2: Plotting with plt &ndash; dumb by default</title></head><body><div id=navbar><ul class=nav-col><li class=nav-item><a class=nav-link href=/>Home</a></li><li class=nav-item><a class=nav-link href=/about/>About</a></li><li class=nav-item><a class=nav-link href=/posts/>Posts</a></li><li class=nav-item><a class=nav-link href=/resources/>Resources</a></li></ul></div><div class=wrapper><article><header><nav class=crumb><ol style=padding-left:0><li class=crumb><a href=/>Home</a></li><li class=crumb><a href=/posts/>Posts</a></li><li class="crumb active">How I Built A Simple (Horrible) 3D Graphics Engine in python matplotlib - Part 2: Plotting with plt</li></ol></nav><h1 class=header-title>How I Built A Simple (Horrible) 3D Graphics Engine in python matplotlib - Part 2: Plotting with plt</h1><pre style=margin:0>published-date: 19 Jan 2023 19:49 &#43;0700</pre><pre style=margin:0>categories: <a href=http://previoip.github.io/categories/dumber-day-by-day/>dumber-day-by-day</a> <a href=http://previoip.github.io/categories/python-hijinks/>python-hijinks</a></pre><pre style=margin:0>tags: <a href=http://previoip.github.io/tags/python/>python</a> <a href=http://previoip.github.io/tags/matplotlib/>matplotlib</a></pre></header><hr><h3 id=posts-in-this-series>Posts in This Series</h3><ul><li><a href=../../posts/building-3d-graphic-engine-in-matplotlib/>Part 1 - Intro</a></li><li><a href=../../posts/building-3d-graphic-engine-in-matplotlib-2/>Part 2 - Plotting with plt</a></li><li><a href=../../posts/building-3d-graphic-engine-in-matplotlib-3/>Part 3 - Square but 3D</a></li><li><a href=../../posts/building-3d-graphic-engine-in-matplotlib-4/>Part 4 - Speen!</a></li><li><a href=../../posts/building-3d-graphic-engine-in-matplotlib-5/>Addendum</a></li></ul><hr><p>Think of the usual way on how you&rsquo;d use this library; plotting time series data, market cap analysis, basically anything tubular and qualitative data can be visualized using this kind of representation. Heck even you can add another axis and draw 3D plot with <code>Axes3d</code>.</p><blockquote><p>In previous post I typo&rsquo;d <em><code>matplotlib.plt</code></em>, it should&rsquo;ve been <em><code>matplotlib.pyplot</code></em> (from now on I&rsquo;ll use the term <code>plt</code>).</p></blockquote><p>We can add values to fields <code>x-axis</code> and <code>y-axis</code>. Any intersecting point will create a vertex, on which a line will traverse through all of these intersecting point.</p><p>For example, look at this piece of code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln>1</span><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=n>x_vals</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=n>y_vals</span> <span class=o>=</span> <span class=p>[</span><span class=mi>69</span><span class=p>,</span> <span class=mi>420</span><span class=p>,</span> <span class=mi>1337</span><span class=p>]</span>
</span></span><span class=line><span class=ln>5</span><span class=cl>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x_vals</span><span class=p>,</span> <span class=n>y_vals</span><span class=p>)</span>
</span></span><span class=line><span class=ln>7</span><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span></code></pre></div><p>It will generate the following graph.</p><p><img src=./images/Figure_1.png alt="Figure 1"></p><p>But also keep in mind you can loop the values to make a polygon as well!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln>1</span><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=n>x_vals</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=n>y_vals</span> <span class=o>=</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=o>-</span><span class=mi>30</span><span class=p>,</span> <span class=mi>10</span><span class=p>]</span>
</span></span><span class=line><span class=ln>5</span><span class=cl>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x_vals</span><span class=p>,</span> <span class=n>y_vals</span><span class=p>)</span>
</span></span><span class=line><span class=ln>7</span><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span></code></pre></div><p><img src=./images/Figure_2.png alt="Figure 1"></p><p>plt on its own is enough to do some graphics programming. But if you&rsquo;re lazy like me, you can extend plt functionality to the other dimension by adding <code>subplot_kw = {"projection": "3d"}</code> as subplot argument. Following snippet is axes constructor wrapped in a function that will be used for next few examples.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln> 1</span><span class=cl><span class=k>def</span> <span class=nf>ConstructSubplot3D</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span><span class=mi>5</span><span class=p>),</span> <span class=n>limit</span><span class=o>=</span><span class=p>((</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>),(</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>)),</span> <span class=n>elev</span><span class=o>=</span><span class=mi>60</span><span class=p>,</span> <span class=n>azim</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>dpi</span><span class=o>=</span><span class=mi>150</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>    <span class=k>return</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplots</span><span class=p>(</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>        <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>        <span class=n>figsize</span> <span class=o>=</span> <span class=n>figsize</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>        <span class=n>dpi</span> <span class=o>=</span> <span class=n>dpi</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>        <span class=n>subplot_kw</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>        <span class=s2>&#34;projection&#34;</span><span class=p>:</span> <span class=s2>&#34;3d&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=ln> 8</span><span class=cl>        <span class=s2>&#34;proj_type&#34;</span><span class=p>:</span><span class=s1>&#39;ortho&#39;</span><span class=p>,</span> 
</span></span><span class=line><span class=ln> 9</span><span class=cl>        <span class=s2>&#34;elev&#34;</span><span class=p>:</span><span class=n>elev</span><span class=p>,</span> 
</span></span><span class=line><span class=ln>10</span><span class=cl>        <span class=s2>&#34;azim&#34;</span><span class=p>:</span><span class=n>azim</span><span class=p>,</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>        <span class=s2>&#34;xlim&#34;</span><span class=p>:</span> <span class=n>limit</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>        <span class=s2>&#34;ylim&#34;</span><span class=p>:</span> <span class=n>limit</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>        <span class=s2>&#34;zlim&#34;</span><span class=p>:</span> <span class=n>limit</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>    <span class=p>)</span>
</span></span></code></pre></div><p>with following data we can plot 3D datapoints in 3D!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln>1</span><span class=cl><span class=n>x_vals</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=n>y_vals</span> <span class=o>=</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=o>-</span><span class=mi>30</span><span class=p>,</span> <span class=mi>10</span><span class=p>]</span>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=n>z_vals</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=ln>4</span><span class=cl>
</span></span><span class=line><span class=ln>5</span><span class=cl>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=n>fig</span><span class=p>,</span> <span class=n>ax</span> <span class=o>=</span> <span class=n>ConstructSubplot3D</span><span class=p>(</span><span class=n>limit</span><span class=o>=</span><span class=p>((</span><span class=nb>min</span><span class=p>(</span><span class=n>x_vals</span><span class=p>),</span> <span class=nb>max</span><span class=p>(</span><span class=n>x_vals</span><span class=p>)),</span> <span class=p>(</span><span class=nb>min</span><span class=p>(</span><span class=n>y_vals</span><span class=p>),</span> <span class=nb>max</span><span class=p>(</span><span class=n>y_vals</span><span class=p>)),</span> <span class=p>(</span><span class=nb>min</span><span class=p>(</span><span class=n>z_vals</span><span class=p>),</span> <span class=nb>max</span><span class=p>(</span><span class=n>z_vals</span><span class=p>))))</span>
</span></span><span class=line><span class=ln>7</span><span class=cl><span class=n>ax</span><span class=o>.</span><span class=n>plot3D</span><span class=p>(</span><span class=n>x_vals</span><span class=p>,</span> <span class=n>y_vals</span><span class=p>,</span> <span class=n>z_vals</span><span class=p>)</span>
</span></span><span class=line><span class=ln>8</span><span class=cl><span class=n>fig</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span></code></pre></div><p><img src=./images/Figure_3.png alt="Figure 3"></p><p>You can further modify the <code>elev</code> and <code>azim</code> to change the viewport&rsquo;s elevation and azimuth respectively.</p><p>With just this notion, you can basically build wrappers to make polygon primitives. But all of these only renders the wireframe only. I think there are few other methods that supports faces, textures with UV mapping, etc. but that&rsquo;d make everything more complicated. And we haven&rsquo;t talked on how we can apply transformation to these datapoints as well using <code>numpy.linalg</code>. Which hopefully would be in the next post.</p></article><div class=posts></div></ul></div><div id=footer><div style=display:flex;justify-content:center><small>Built with <a a target=_blank class=extern href=https://gohugo.io/>Hugo</a> | previoip &copy;2022</small></div></div></body></html>